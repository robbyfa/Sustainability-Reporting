<!DOCTYPE html>
<html lang="en">
  {% include 'navbar.html' %}
  <body class="bg-gray-100">
    <div class="container mx-auto p-8">
      <h1 class="text-4xl font-bold text-center text-gray-900 mb-10">
        Published Lists
      </h1>

      <!-- ... existing HTML ... -->
      {% for user in published_users %}
      <div class="user-section">
        <h2>{{ user.username }}'s Activities</h2>
        {% for activity in user.activities %}
        <div class="activity-section">
          <h3>{{ activity.activityName }}</h3>
          <ul>
            {% for criterion in activity.criteria %}
            <li>
              {{ criterion.criteria_description }} -
              <strong
                >{{ 'Compliant' if criterion.is_compliant else 'Non-Compliant'
                }}</strong
              >
            </li>
            {% endfor %}
          </ul>
        </div>
        {% endfor %}
      </div>
      {% endfor %}
    </div>
  </body>

  <script>
    function searchUsers() {
      var input, filter, i, txtValue;
      input = document.getElementById("searchInput");
      filter = input.value.toUpperCase();
      users = document.getElementsByClassName("user-section");

      for (i = 0; i < users.length; i++) {
        txtValue = users[i].textContent || users[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          users[i].style.display = "";
        } else {
          users[i].style.display = "none";
        }
      }
    }
  </script>
</html>

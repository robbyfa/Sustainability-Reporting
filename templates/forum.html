<!DOCTYPE html>
<html lang="en">
  {% include 'navbar.html' %}
  <body>
    <div class="container mx-auto p-8">
      <h1 class="text-4xl font-bold text-center text-gray-900 mb-10">
        Published Lists
      </h1>

      {% for user in published_users %}
      <div class="mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">
          {{ user.username }}'s Activities
        </h2>
        <div class="overflow-x-auto bg-white shadow-md rounded-lg">
          <table class="min-w-full leading-normal">
            <thead class="bg-gray-200">
              <tr>
                <th
                  class="px-5 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-800 uppercase tracking-wider"
                >
                  Activity Name
                </th>
                <th
                  class="px-5 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-800 uppercase tracking-wider"
                >
                  Criteria
                </th>
              </tr>
            </thead>
            <tbody>
              {% for activity in user.activities %}
              <tr class="hover:bg-gray-50 transition duration-300 ease-in-out">
                <td
                  class="px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-900 font-bold"
                >
                  {{ activity.activity_id }}
                </td>
                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                  {% for criterion in activity.criteria %}
                  <p>
                    {{ criterion.criteria_description }} -
                    <span
                      class="{{ 'text-green-500' if criterion.is_compliant else 'text-red-500' }}"
                      >{{ 'Compliant' if criterion.is_compliant else
                      'Non-Compliant' }}</span
                    >
                  </p>
                  {% endfor %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      {% endfor %}
    </div>
  </body>
</html>
